
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
import{d as e,c as t,bC as s,bD as r,bE as o,O as i,A as n,o as a,w as l,s as c,t as d,e as u,h as p,j as h,l as x,g as m,L as g,P as v,v as f,aM as b,Y as w,J as j,k as y,aJ as k,aK as S,m as z,n as I,i as L,f as B,bg as O,bF as $}from"./index.0ad98fba.js";var A=Object.defineProperty,C=(e,t,s)=>(((e,t,s)=>{t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);const N=e=>Function(`"use strict"; ${e}`)(),W=(e,t,s,r)=>{if(e){if(!e.includes("{{"))return e;e=e.replace(/\{\{/g,"").replace(/\}\}/g,"")}return N(`\n    const rowIndex = ${r};\n    const column = ${JSON.stringify(s)};\n    const record = ${JSON.stringify(t)};\n    return (${e})\n  `)};class V{constructor(e){C(this,"json",{}),C(this,"context",""),e&&(this.json=o.exports.merge(this.json,e))}edit(e=!0){return this.context="",o.exports.set(this.json,"edit.enabled",e),o.exports.set(this.json,"edit.mode","modal"),this}inlineMode(){return this.context="",o.exports.set(this.json,"edit.mode","inline"),this}modalMode(){return this.context="",o.exports.set(this.json,"edit.mode","modal"),this}drawerMode(){return this.context="",o.exports.set(this.json,"edit.mode","drawer"),this}layout(){return this.context="layout",this}inline(e=!0){return"search"===this.context&&e&&o.exports.set(this.json,"search.layout","inline"),this}cols(e){return"search"===this.context&&e&&o.exports.set(this.json,"search.cols",e),this}xxl(e){if("search"===this.context&&e){let t=o.exports.get(this.json,"search.cols");o.exports.set(this.json,"search.cols",o.exports.merge(t,{xxl:e}))}return this}xl(e){if("search"===this.context&&e){let t=o.exports.get(this.json,"search.cols");o.exports.set(this.json,"search.cols",o.exports.merge(t,{xl:e}))}return this}lg(e){if("search"===this.context&&e){let t=o.exports.get(this.json,"search.cols");o.exports.set(this.json,"search.cols",o.exports.merge(t,{lg:e}))}return this}md(e){if("search"===this.context&&e){let t=o.exports.get(this.json,"search.cols");o.exports.set(this.json,"search.cols",o.exports.merge(t,{md:e}))}return this}sm(e){if("search"===this.context&&e){let t=o.exports.get(this.json,"search.cols");o.exports.set(this.json,"search.cols",o.exports.merge(t,{sm:e}))}return this}xs(e){if("search"===this.context&&e){let t=o.exports.get(this.json,"search.cols");o.exports.set(this.json,"search.cols",o.exports.merge(t,{lg:e}))}return this}header(e=!0){return this.context="header",o.exports.set(this.json,"header.visible",e),this}visible(e=!0){return"header"===this.context?(o.exports.set(this.json,this.context+".visible",e),this):this}body(){return this.context="body",this}search(e=!0){return this.context="search",o.exports.set(this.json,"search.enabled",e),this}virtualList(){return this.context="body.virtualList",o.exports.set(this.json,"row.expand",!1),o.exports.set(this.json,"pagination",!1),o.exports.set(this.json,"edit",!1),this}height(e){return"body.virtualList"===this.context&&o.exports.set(this.json,"body.virtualList.height",e),this}size(e){return this.context="size",e&&o.exports.set(this.json,"size",e),this}mini(){return(this.context="size")&&o.exports.set(this.json,"size","mini"),this}small(){return(this.context="size")&&o.exports.set(this.json,"size","small"),this}medium(){return(this.context="size")&&o.exports.set(this.json,"size","medium"),this}large(){return(this.context="size")&&o.exports.set(this.json,"size","large"),this}column(){return this.context="column",this}resizable(e=!0){return o.exports.set(this.json,"column.resizable",e),o.exports.set(this.json,"row.border.cell",!0),this}scroll(){return this.context="body.scroll",this}x(e){return"body.scroll"===this.context&&o.exports.set(this.json,"body.scroll.x",e),this}y(e){return"body.scroll"===this.context&&o.exports.set(this.json,"body.scroll.y",e),this}row(){return this.context="row",this}selection(){return this.context="row.selection",this}checkboxType(){return o.exports.set(this.json,"row.selection.type","checkbox"),this}radioType(){return o.exports.set(this.json,"row.selection.type","radio"),this}checkAll(e=!0){return o.exports.set(this.json,"row.selection.showCheckedAll",e),this}currentOnly(e=!0){return o.exports.set(this.json,"row.selection.currentOnly",e),this}operation(e=!0){return this.context="operation",this}viewOperation(e=!0){if(!e)return this;this.context="operation.view";const t=o.exports.get(this.json,"operation.operationList")||[];return t.push({type:"AButton",title:"查看",name:"view",idx:0}),o.exports.set(this.json,"operation.operationList",t),this}editOperation(e=!0){if(!e)return this;this.context="operation.edit";const t=o.exports.get(this.json,"operation.operationList")||[];return t.push({type:"AButton",name:"edit",idx:1,title:"编辑"}),o.exports.set(this.json,"operation.operationList",t),this}removeOperation(e=!0){if(!e)return this;this.context="operation.remove";const t=o.exports.get(this.json,"operation.operationList")||[];return t.push({type:"AButton",title:"删除",idx:9999,name:"remove",status:"danger",needConfirm:!0}),o.exports.set(this.json,"operation.operationList",t),this}removeBatchOperation(e=!0){return e?(this.context="removeBatch",o.exports.set(this.json,"removeBatch",{}),this):this}updateBatchOperation(e=!0){return e?(this.context="updateBatch",o.exports.set(this.json,"updateBatch",{}),this):this}editBatchOperation(e=!0){return e?(this.context="editBatch",o.exports.set(this.json,"editBatch",{}),this):this}addOperation(e=!0){return e?(this.context="add",o.exports.set(this.json,"add",!0),this):this}customOperation(e,t=!0){if(!t)return this;this.context="operation."+e;const s=o.exports.get(this.json,"operation.operationList")||[];return s.push({type:"AButton",title:e,name:"custom",idx:100}),o.exports.set(this.json,"operation.operationList",s),this}clickEmit(e){const t=o.exports.get(this.json,"operation.operationList")||{};if("operation.view"===this.context){let s=t.find((e=>"view"===e.name));return s&&(s.clickEmit=e),this}if("operation.edit"===this.context){let s=t.find((e=>"edit"===e.name));return s&&(s.clickEmit=e),this}if("operation.remove"===this.context){let s=t.find((e=>"remove"===e.name));return s&&(s.clickEmit=e),this}if(this.context.startsWith("operation.")){let s=this.context.indexOf(".");if(s>-1&&s<this.context.length-1){let r=this.context.substring(s+1),o=t.find((e=>e.title===r));o&&(o.clickEmit=e)}}return"removeBatch"===this.context||"editBatch"===this.context||"saveBatch"===this.context?(o.exports.set(this.json,this.context+".clickEmit",e),this):this}needConfirm(e=!0){const t=o.exports.get(this.json,"operation.operationList")||{};if("operation.view"===this.context){let s=t.find((e=>"view"===e.name));return s&&(s.needConfirm=e),this}if("operation.edit"===this.context){let s=t.find((e=>"edit"===e.name));return s&&(s.needConfirm=e),this}if("operation.remove"===this.context){let s=t.find((e=>"remove"===e.name));return s&&(s.needConfirm=e),this}if(this.context.startsWith("operation.")){let s=this.context.indexOf(".");if(s>-1&&s<this.context.length-1){let r=this.context.substring(s+1),o=t.find((e=>e.title===r));o&&(o.needConfirm=e)}}return this}confirmText(e){const t=o.exports.get(this.json,"operation.operationList")||{};if("operation.view"===this.context){let s=t.find((e=>"view"===e.name));return s&&(s.confirmText=e,s.needConfirm=!0),this}if("operation.edit"===this.context){let s=t.find((e=>"edit"===e.name));return s&&(s.confirmText=e,s.needConfirm=!0),this}if("operation.remove"===this.context){let s=t.find((e=>"remove"===e.name));return s&&(s.confirmText=e,s.needConfirm=!0),this}if(this.context.startsWith("operation.")){let s=this.context.indexOf(".");if(s>-1&&s<this.context.length-1){let r=this.context.substring(s+1),o=t.find((e=>e.title===r));o&&(o.confirmText=e,o.needConfirm=!0)}}return this}expand(e=!0){return this.context="row.expand",this}width(e){return this.context?(o.exports.set(this.json,this.context+".width",e),this):this}title(e){return this.context?(o.exports.set(this.json,this.context+".title",e),this):this}render(e){return this.context?(o.exports.set(this.json,this.context+".render",e),this):this}hover(e=!0){return(!this.context||"row"==this.context)&&o.exports.set(this.json,"row.hover",e),this}border(e=!0){return(!this.context||"row"==this.context)&&o.exports.set(this.json,"row.border.cell",e),this}stripe(e=!0){return(!this.context||"row"==this.context)&&o.exports.set(this.json,"row.stripe",e),this}baseUrl(e){return o.exports.set(this.json,"baseUrl",e),this}fetch(){return this.context="fetch",this}fetchList(){return this.context="fetchList",this}delete(){return this.context="delete",this}deleteBatch(){return this.context="deleteBatch",this}save(){return this.context="save",this}saveBatch(){return this.context="saveBatch",this}update(){return this.context="update",this}updateBatch(){return this.context="updateBatch",this}get(e){return"fetchList"==this.context&&(o.exports.set(this.json,"fetchList.url",e),o.exports.set(this.json,"fetchList.method","GET")),"fetch"==this.context&&(o.exports.set(this.json,"fetch.url",e),o.exports.set(this.json,"fetch.method","GET")),this}post(e){return"save"==this.context&&(o.exports.set(this.json,"save.url",e),o.exports.set(this.json,"save.method","POST")),"saveBatch"==this.context&&(o.exports.set(this.json,"saveBatch.url",e),o.exports.set(this.json,"saveBatch.method","POST")),"update"==this.context&&(o.exports.set(this.json,"update.url",e),o.exports.set(this.json,"update.method","POST")),"updateBatch"==this.context&&(o.exports.set(this.json,"updateBatch.url",e),o.exports.set(this.json,"updateBatch.method","POST")),"delete"==this.context&&(o.exports.set(this.json,"delete.url",e),o.exports.set(this.json,"delete.method","POST")),"deleteBatch"==this.context&&(o.exports.set(this.json,"deleteBatch.url",e),o.exports.set(this.json,"deleteBatch.method","POST")),this}parse(e){return e&&(this.json=o.exports.merge(this.json,e)),this.json}}class _{constructor(e){C(this,"json",{}),C(this,"context",""),e&&(this.json=o.exports.merge(this.json,e))}column(){return this.context="column",this}fixed(){return this.context="column.fixed",this}title(e){return e&&o.exports.set(this.json,"title.name",e),this}widget(e){return this.context="widget",e&&o.exports.set(this.json,"widget.type",e),this}input(){return this.context="widget",o.exports.set(this.json,"widget.type","AInput"),this}format(e){return o.exports.set(this.json,"widget.format",e),this}placeholder(e){return"widget"===this.context&&o.exports.set(this.json,"widget.placeholder",e),"searchable"===this.context&&o.exports.set(this.json,"searchable.placeholder",e),this}clearable(e=!0){return this.context="widget",o.exports.set(this.json,"widget.clearable",e),this}select(e){return this.context="widget",o.exports.set(this.json,"widget.type","ASelect"),o.exports.set(this.json,"widget.options",e),this}props(e){return(this.context="widget")&&o.exports.set(this.json,"widget.props",e),this}inputNumber(){return this.context="widget",o.exports.set(this.json,"widget.type","AInputNumber"),this}textArea(){return this.context="widget",o.exports.set(this.json,"widget.type","ATextarea"),this}upperFirst(){return o.exports.set(this.json,"title.upperFirst",!0),this}width(e){return o.exports.set(this.json,"title.width",e),this}left(){return"column.fixed"===this.context?(o.exports.set(this.json,"column.fixed","left"),this):(o.exports.set(this.json,"title.align","left"),this)}right(){return"column.fixed"===this.context?(o.exports.set(this.json,"column.fixed","right"),this):(o.exports.set(this.json,"title.align","right"),this)}center(){return o.exports.set(this.json,"title.align","center"),this}editable(e=!0){return o.exports.set(this.json,"editable",e),this}readonly(){return o.exports.set(this.json,"editable",!1),this}keepWatch(e){return o.exports.set(this.json,"widget.keepWatch",e),this}sortable(){return this.context="sortable",this}asc(){if("sortable"===this.context){let e=o.exports.get(this.json,"sortable.sortDirections")||[];e.push("ascend"),o.exports.set(this.json,"sortable.sortDirections",e)}return this}desc(){if("sortable"===this.context){let e=o.exports.get(this.json,"sortable.sortDirections")||[];e.push("descend"),o.exports.set(this.json,"sortable.sortDirections",e)}return this}filterable(){return this.context="filterable",this}filter(e){return"filterable"===this.context&&(o.exports.set(this.json,"filterable.render",e),o.exports.set(this.json,"title.align","center")),this}eq(e){if("filterable"===this.context){let t=o.exports.get(this.json,"filterable.filters")||[];o.exports.isArray(e)?e.forEach((e=>{t.push({text:"= "+e,value:e})})):t.push({text:"= "+e,value:e}),o.exports.set(this.json,"filterable.filters",t),o.exports.set(this.json,"filterable.type","eq"),o.exports.set(this.json,"title.align","center")}return this}gt(e){if("filterable"===this.context){let t=o.exports.get(this.json,"filterable.filters")||[];o.exports.isArray(e)?e.forEach((e=>{t.push({text:"> "+e,value:e+""})})):t.push({text:"> "+e,value:e+""}),o.exports.set(this.json,"filterable.filters",t),o.exports.set(this.json,"filterable.type","gt"),o.exports.set(this.json,"title.align","center")}return this}lt(e){if("filterable"===this.context){let t=o.exports.get(this.json,"filterable.filters")||[];o.exports.isArray(e)?e.forEach((e=>{t.push({text:"< "+e,value:e+""})})):t.push({text:"< "+e,value:e+""}),o.exports.set(this.json,"filterable.filters",t),o.exports.set(this.json,"filterable.type","lt"),o.exports.set(this.json,"title.align","center")}return this}startsWith(e){if("filterable"===this.context){let t=o.exports.get(this.json,"filterable.filters")||[];o.exports.isArray(e)?e.forEach((e=>{t.push({text:""+e,value:e})})):t.push({text:""+e,value:e}),o.exports.set(this.json,"filterable.filters",t),o.exports.set(this.json,"filterable.type","startsWith"),o.exports.set(this.json,"title.align","center")}return this}includes(e){if("filterable"===this.context){let t=o.exports.get(this.json,"filterable.filters")||[];o.exports.isArray(e)?e.forEach((e=>{t.push({text:""+e,value:e})})):t.push({text:""+e,value:e}),o.exports.set(this.json,"filterable.filters",t),o.exports.set(this.json,"filterable.type","includes"),o.exports.set(this.json,"title.align","center")}return this}searchable(e=!0){return this.context="searchable",o.exports.set(this.json,"searchable.enabled",e),this}advancedOnly(e=!0){return"searchable"===this.context&&o.exports.set(this.json,"searchable.advancedOnly",e),this}cell(){return this.context="cell",this}ellipsis(e=!0){return o.exports.set(this.json,"cell.ellipsis",e),this}tooltip(e=!0){return o.exports.set(this.json,"cell.tooltip",e),this}parse(e){return e&&(this.json=o.exports.merge(this.json,e)),this.json}}const U=Symbol("ArcoConfigProvider"),T=e=>{var t,s,r;const o=z(),n=i(U,void 0),a=null!=(r=null!=(s=null==n?void 0:n.prefixCls)?s:null==(t=null==o?void 0:o.appContext.config.globalProperties.$arco)?void 0:t.classPrefix)?r:"arco";return e?`${a}-${e}`:a},E=Object.prototype.toString;function P(e){return"[object Number]"===E.call(e)&&e==e}var M=(e,t)=>{for(const[s,r]of t)e[s]=r;return e};const F=e({name:"IconArrowDown",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=T("icon");return{cls:t((()=>[s,`${s}-arrow-down`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=P(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),q=["stroke-width","stroke-linecap","stroke-linejoin"],R=[B("path",{d:"m11.27 27.728 12.727 12.728 12.728-12.728M24 5v34.295"},null,-1)];var G=M(F,[["render",function(e,t,s,r,o,i){return d(),u("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:I(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},R,14,q)}]]);const D=Object.assign(G,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+G.name,G)}}),J=e({name:"IconArrowLeft",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=T("icon");return{cls:t((()=>[s,`${s}-arrow-left`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=P(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),H=["stroke-width","stroke-linecap","stroke-linejoin"],K=[B("path",{d:"M20.272 11.27 7.544 23.998l12.728 12.728M43 24H8.705"},null,-1)];var Z=M(J,[["render",function(e,t,s,r,o,i){return d(),u("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:I(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},K,14,H)}]]);const Y=Object.assign(Z,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+Z.name,Z)}}),Q=e({name:"IconCloseCircle",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=T("icon");return{cls:t((()=>[s,`${s}-close-circle`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=P(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),X=["stroke-width","stroke-linecap","stroke-linejoin"],ee=[B("path",{d:"m17.643 17.643 6.364 6.364m0 0 6.364 6.364m-6.364-6.364 6.364-6.364m-6.364 6.364-6.364 6.364M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1)];var te=M(Q,[["render",function(e,t,s,r,o,i){return d(),u("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:I(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},ee,14,X)}]]);const se=Object.assign(te,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+te.name,te)}}),re=e({name:"IconPlus",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=T("icon");return{cls:t((()=>[s,`${s}-plus`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=P(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),oe=["stroke-width","stroke-linecap","stroke-linejoin"],ie=[B("path",{d:"M5 24h38M24 5v38"},null,-1)];var ne=M(re,[["render",function(e,t,s,r,o,i){return d(),u("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:I(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},ie,14,oe)}]]);const ae=Object.assign(ne,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+ne.name,ne)}}),le=e({name:"IconDownload",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=T("icon");return{cls:t((()=>[s,`${s}-download`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=P(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),ce=["stroke-width","stroke-linecap","stroke-linejoin"],de=[B("path",{d:"m33.072 22.071-9.07 9.071-9.072-9.07M24 5v26m16 4v6H8v-6"},null,-1)];var ue=M(le,[["render",function(e,t,s,r,o,i){return d(),u("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:I(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},de,14,ce)}]]);const pe=Object.assign(ue,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+ue.name,ue)}}),he=e({name:"IconSearch",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=T("icon");return{cls:t((()=>[s,`${s}-search`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=P(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),xe=["stroke-width","stroke-linecap","stroke-linejoin"],me=[B("path",{d:"M33.072 33.071c6.248-6.248 6.248-16.379 0-22.627-6.249-6.249-16.38-6.249-22.628 0-6.248 6.248-6.248 16.379 0 22.627 6.248 6.248 16.38 6.248 22.628 0Zm0 0 8.485 8.485"},null,-1)];var ge=M(he,[["render",function(e,t,s,r,o,i){return d(),u("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:I(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},me,14,xe)}]]);const ve=Object.assign(ge,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+ge.name,ge)}}),fe=e({name:"IconSync",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=T("icon");return{cls:t((()=>[s,`${s}-sync`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=P(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),be=["stroke-width","stroke-linecap","stroke-linejoin"],we=[B("path",{d:"M11.98 11.703c-6.64 6.64-6.64 17.403 0 24.042a16.922 16.922 0 0 0 8.942 4.7M34.603 37.156l1.414-1.415c6.64-6.639 6.64-17.402 0-24.041A16.922 16.922 0 0 0 27.075 7M14.81 11.982l-1.414-1.414-1.414-1.414h2.829v2.828ZM33.192 36.02l1.414 1.414 1.414 1.415h-2.828V36.02Z"},null,-1)];var je=M(fe,[["render",function(e,t,s,r,o,i){return d(),u("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:I(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},we,14,be)}]]);const ye=Object.assign(je,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+je.name,je)}}),ke=e({name:"IconDelete",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=T("icon");return{cls:t((()=>[s,`${s}-delete`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=P(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),Se=["stroke-width","stroke-linecap","stroke-linejoin"],ze=[B("path",{d:"M5 11h5.5m0 0v29a1 1 0 0 0 1 1h25a1 1 0 0 0 1-1V11m-27 0H16m21.5 0H43m-5.5 0H32m-16 0V7h16v4m-16 0h16M20 18v15m8-15v15"},null,-1)];var Ie=M(ke,[["render",function(e,t,s,r,o,i){return d(),u("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:I(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},ze,14,Se)}]]);const Le=Object.assign(Ie,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+Ie.name,Ie)}}),Be=e({name:"IconEdit",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=T("icon");return{cls:t((()=>[s,`${s}-edit`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=P(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),Oe=["stroke-width","stroke-linecap","stroke-linejoin"],$e=[B("path",{d:"m30.48 19.038 5.733-5.734a1 1 0 0 0 0-1.414l-5.586-5.586a1 1 0 0 0-1.414 0l-5.734 5.734m7 7L15.763 33.754a1 1 0 0 1-.59.286l-6.048.708a1 1 0 0 1-1.113-1.069l.477-6.31a1 1 0 0 1 .29-.631l14.7-14.7m7 7-7-7M6 42h36"},null,-1)];var Ae=M(Be,[["render",function(e,t,s,r,o,i){return d(),u("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:I(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},$e,14,Oe)}]]);const Ce=Object.assign(Ae,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+Ae.name,Ae)}}),Ne=s.create({});Ne.interceptors.response.use((function(e){return e}),(function(e){return r.error(`网络故障(${e.response.status}), 请重试`),Promise.reject(e)}));const We=w(" 查询 "),Ve=w(" 重置 "),_e=w(" 新增 "),Ue=w(" 批量编辑 "),Te=w(" 保存编辑 "),Ee=w(" 批量删除 "),Pe=w(" 下载 "),Me={__name:"ArcoCrudTable",props:{schema:{type:Object,default:{}},options:{type:Object,default:{}}},setup(e){const s=e,r=n([]),i=n(!1),z=n(!1),I=n(!1),L=n({current:1,pageSize:10,showTotal:!0,defaultPageSize:10,showPageSize:!0}),B=n(!1),O=n({}),$=n([]),A=n([]),C=n({}),_=n(!1),U=n([]),T=n({}),E=n({});let P=n(void 0),M=n();const F=n(!1),q=n(""),R=t((()=>new V(s.options).edit(I.value).parse())),G=t((()=>new V(R.value).edit("edit"===q.value).parse())),J=e=>{const t=o.exports.get(e,"widget.type"),s=o.exports.get(e,"widget.keepWatch");return t?s?t+"Cascader":t:"AInput"},H=(e,t)=>{var s;null!=(s=R.value.edit)&&s.enabled?O.value=t:O.value=Object.assign({},t),"view"===e.name&&(q.value="view",B.value=!0),"edit"===e.name&&(q.value="edit",B.value=!0),"remove"===e.name&&re(t)},K=async()=>{let e=o.exports.get(R.value,"baseUrl");if("edit"===q.value){let t=o.exports.get(R.value,"update.url"),s=o.exports.get(R.value,"update.method");z.value=!0,await Ne(t,{method:s,baseURL:e,["GET"===s?"params":"data"]:{...O.value}}),z.value=!1,X()}if("add"===q.value){let t=o.exports.get(R.value,"save.url"),s=o.exports.get(R.value,"save.method");z.value=!0,await Ne(t,{method:s,baseURL:e,["GET"===s?"params":"data"]:{...O.value}}),z.value=!1,X()}},Z=()=>{O.value={},B.value=!0,q.value="add"},Q={edit:"编辑",add:"新增",view:"查看"},X=async()=>{let e=o.exports.get(R.value,"baseUrl"),t=o.exports.get(R.value,"fetchList"),s=o.exports.get(R.value,"fetchList.url");if(!e||!t)return;i.value=!0;let n=o.exports.get(R.value,"fetchList.method");const{data:a}=await Ne(s,{method:n,baseURL:e,["GET"===n?"params":"data"]:{page:L.value.current,pageSize:L.value.pageSize,...C.value}});r.value=a.list,L.value.total=a.total,i.value=!1},ee=()=>{q.value="editBatch",I.value=!0,he()},te=async()=>{I.value=!1;let e=o.exports.get(R.value,"baseUrl"),t=o.exports.get(R.value,"updateBatch.method"),s=o.exports.get(R.value,"updateBatch.url");await Ne(s,{method:t,baseURL:e,["GET"===t?"params":"data"]:{list:r.value.filter((e=>A.value.includes(e.key)))}}),A.value=[],q.value="",he(),X()},re=async e=>{let t=o.exports.get(R.value,"baseUrl"),s=o.exports.get(R.value,"delete"),r=o.exports.get(R.value,"delete.url");if(!t||!s||!r)return;let i=o.exports.get(R.value,"delete.method");await Ne(r,{method:i,baseURL:t,["GET"===i?"params":"data"]:{id:e.id}}),X()},oe=e=>{L.value=Object.assign({},L.value,{pageSize:e})},ie=e=>{L.value=Object.assign({},L.value,{current:e})},ne=(e,t)=>{let s=E.value[e.dataIndex];s&&(t[s]="")},le=()=>{L.value.current=1,X()},ce=()=>{L.value.current=1,C.value={},X()},de=async()=>{let e=o.exports.get(R.value,"baseUrl"),t=o.exports.get(R.value,"deleteBatch"),s=o.exports.get(R.value,"deleteBatch.url");if(!e||!t||!s)return;let r=o.exports.get(R.value,"deleteBatchUrl.method")||post;await Ne(deleteUrl,{method:r,baseURL:e,["GET"===r?"params":"data"]:{id:record.id}}),X()},ue=e=>{A.value.push(e.key)},he=()=>{U.value=[],F.value=!!o.exports.get(R.value,"body.virtualList"),T.value={},E.value={},P.value=void 0,M.value=o.exports.get(R.value,"row.expand"),M.value&&M.value.render&&(P.value=o.exports.merge(M.value,{expandedRowRender:e=>W(M.value.render,e,{},null)})),Object.keys(s.schema).forEach((e=>{var t;let r=s.schema[e],i=o.exports.get(r,"title.name")||e,n=o.exports.get(r,"title.upperFirst"),a=o.exports.get(r,"widget.options");a&&(T.value=Object.assign({},a.value,a));let l=o.exports.get(r,"widget.keepWatch");l&&(E.value[l]=e);let c=o.exports.get(r,"widget.format");if(o.exports.get(r,"filterable")){let t=o.exports.get(r,"filterable.render"),s=o.exports.get(r,"filterable.type")||"eq";"eq"==s&&(t=`{{ record.${e} === value[0] }}`),"lt"==s&&(t=`{{ record.${e} < value[0] }}`),"gt"==s&&(t=`{{ record.${e} > value[0] }}`),"startsWith"==s&&(t=`{{ record.${e}.startsWith(value[0]) }}`),"includes"==s&&(t=`{{ record.${e}.includes(value[0]) }}`),o.exports.set(r,"filterable.filter",((e,s)=>((e,t,s)=>{if(e){if(!e.includes("{{"))return e;e=e.replace(/\{\{/g,"").replace(/\}\}/g,"")}return N(`\n    const value = ${JSON.stringify(t)};\n    const record = ${JSON.stringify(s)};\n    return (${e})\n  `)})(t,e,s)))}U.value.push({title:n?o.exports.upperFirst(i):i,dataIndex:e,key:e,width:o.exports.get(r,"title.width"),align:o.exports.get(r,"title.align")||"left",keepWatch:l,format:c,sortable:o.exports.get(r,"sortable"),filterable:o.exports.get(r,"filterable"),fixed:o.exports.get(r,"column.fixed"),ellipsis:o.exports.get(r,"cell.ellipsis"),tooltip:o.exports.get(r,"cell.tooltip"),widget:o.exports.get(r,"widget")||{},slotName:!o.exports.get(R.value,"body.virtualList")&&(null==(t=null==R?void 0:R.value.edit)?void 0:t.enabled)&&0!=o.exports.get(r,"editable")?J(r):c?"format":null})}));let e=o.exports.get(R.value,"operation.operationList");if(e&&e.length>0){e.sort(((e,t)=>e.idx?t.idx?e.idx-t.idx:1:-1)),o.exports.set(R.value,"operation.operationList",e);let t=o.exports.get(R.value,"column.resizable");U.value.push({title:"操作栏",fixed:"right",align:"center",width:50*e.length+40,slotName:"operationList"}),t&&U.value.push({title:"",fixed:!t&&"right",align:"center",slotName:"empty"})}};return a((async()=>{he()})),l((()=>q.value),(e=>{"editBatch"===e&&(R.value.edit.enabled=!0)})),l([L],(async()=>{X()}),{immediate:!0}),(e,t)=>{var n,a,l,A;const N=c("AFormItem"),V=c("AGridItem"),E=c("AGrid"),M=c("AForm"),F=c("ACol"),J=c("AButton"),X=c("ASpace"),re=c("ARow"),he=c("ADivider"),xe=c("AInput"),me=c("AInputNumber"),ge=c("ATextarea"),fe=c("ASelect"),be=c("APopconfirm"),we=c("ATable"),je=c("AModal");return d(),u("div",null,[p(o.exports.get)(p(R),"search.enabled")?(d(),h(re,{key:0,style:{"margin-bottom":"10px"},gutter:20},{default:x((()=>[m(F,{flex:"auto"},{default:x((()=>[m(M,{layout:p(o.exports.get)(p(R),"search.layout"),"label-align":"left"},{default:x((()=>[m(E,{cols:p(o.exports.get)(p(R),"search.cols"),colGap:12,style:{width:"100%"}},{default:x((()=>[(d(!0),u(g,null,v(U.value.filter((e=>p(o.exports.get)(s.schema[e.dataIndex],"searchable.enabled")&&(_.value||!_.value&&!p(o.exports.get)(s.schema[e.dataIndex],"searchable.advancedOnly")))),(e=>(d(),h(V,{key:_.value+"_"},{default:x((()=>[m(N,{"label-col-flex":"60px",field:e.dataIndex,label:e.title},{default:x((()=>{var t;return[(d(),h(f((null==(t=e.widget)?void 0:t.type)||"AInput"),b({modelValue:C.value[e.dataIndex],"onUpdate:modelValue":t=>C.value[e.dataIndex]=t,onChange:t=>ne(e,r.value)},{...p(o.exports.get)(s.schema[e.dataIndex],"widget.props"),options:e.keepWatch?T.value[r.value[e.keepWatch]]:T.value[e.dataIndex],"allow-clear":p(o.exports.get)(s.schema[e.dataIndex],"widget.clearable"),placeholder:p(W)(p(o.exports.get)(s.schema[e.dataIndex],"searchable.placeholder"),{},e,null)||"请输入"+e.title}),null,16,["modelValue","onUpdate:modelValue","onChange"]))]})),_:2},1032,["field","label"])])),_:2},1024)))),128))])),_:1},8,["cols"])])),_:1},8,["layout"])])),_:1}),m(F,{flex:_.value?"50px":"290px"},{default:x((()=>[m(X,{direction:_.value?"vertical":"horizontal"},{default:x((()=>[m(J,{type:"primary",onClick:le},{icon:x((()=>[m(p(ve))])),default:x((()=>[We])),_:1}),m(J,{status:"warning",onClick:ce},{icon:x((()=>[m(p(se))])),default:x((()=>[Ve])),_:1}),m(J,{status:"success",onClick:t[0]||(t[0]=e=>_.value=!_.value)},{icon:x((()=>[_.value?(d(),h(p(Y),{key:0})):(d(),h(p(D),{key:1}))])),default:x((()=>[w(" "+j(_.value?"收起":"展开"),1)])),_:1})])),_:1},8,["direction"])])),_:1},8,["flex"])])),_:1})):y("",!0),p(o.exports.get)(p(R),"search.enabled")?(d(),h(he,{key:1})):y("",!0),m(re,{gutter:12,style:{"margin-bottom":"20px"}},{default:x((()=>[m(F,{span:12,align:"left"},{default:x((()=>[m(X,null,{default:x((()=>{var e,t,s,r;return[p(o.exports.get)(p(R),"save.url")?(d(),h(J,{key:0,type:"primary",onClick:Z},{icon:x((()=>[m(p(ae),{style:{cursor:"pointer"}})])),default:x((()=>[_e])),_:1})):y("",!0),null!=(t=null==(e=p(R))?void 0:e.edit)&&t.enabled||I.value||!p(o.exports.get)(p(R),"updateBatch.url")?y("",!0):(d(),h(J,{key:1,onClick:ee},{icon:x((()=>[m(p(Ce),{style:{cursor:"pointer"}})])),default:x((()=>[Ue])),_:1})),(null==(r=null==(s=p(R))?void 0:s.edit)?void 0:r.enabled)&&I.value&&p(o.exports.get)(p(R),"updateBatch.url")?(d(),h(J,{key:2,onClick:te},{icon:x((()=>[m(p(ye),{style:{cursor:"pointer"}})])),default:x((()=>[Te])),_:1})):y("",!0),$.value.length>0&&p(o.exports.get)(p(R),"deleteBatch.url")?(d(),h(J,{key:3,status:"danger",onClick:de},{icon:x((()=>[m(p(Le),{style:{cursor:"pointer"}})])),default:x((()=>[Ee])),_:1})):y("",!0)]})),_:1})])),_:1}),m(F,{span:12,align:"right"},{default:x((()=>[m(J,null,{icon:x((()=>[m(p(pe),{style:{cursor:"pointer"}})])),default:x((()=>[Pe])),_:1})])),_:1})])),_:1}),m(we,{size:p(o.exports.get)(p(R),"size"),hoverable:null==(a=null==(n=p(R))?void 0:n.row)?void 0:a.hover,stripe:null==(A=null==(l=p(R))?void 0:l.row)?void 0:A.stripe,bordered:p(o.exports.get)(p(R),"row.border"),"column-resizable":p(o.exports.get)(p(R),"column.resizable"),expandable:p(P),pagination:L.value,"show-header":p(o.exports.get)(p(R),"header.visible"),scroll:p(o.exports.get)(p(R),"body.scroll"),"row-selection":p(o.exports.get)(p(R),"row.selection"),"virtual-list-props":p(o.exports.get)(p(R),"body.virtualList"),selectedKeys:$.value,"onUpdate:selectedKeys":t[1]||(t[1]=e=>$.value=e),columns:U.value,loading:i.value,onPageChange:ie,onPageSizeChange:oe,data:r.value},{AInput:x((({rowIndex:e,column:t,record:r})=>[m(xe,b({modelValue:r[t.dataIndex],"onUpdate:modelValue":e=>r[t.dataIndex]=e},{"allow-clear":p(o.exports.get)(s.schema[t.dataIndex],"widget.clearable"),placeholder:p(W)(p(o.exports.get)(s.schema[t.dataIndex],"widget.placeholder"),r,t,e)||"请输入",...p(o.exports.get)(s.schema[t.dataIndex],"widget.props")},{onBlur:e=>ue(r)}),null,16,["modelValue","onUpdate:modelValue","onBlur"])])),AInputNumber:x((({rowIndex:e,column:t,record:r})=>[m(me,b({modelValue:r[t.dataIndex],"onUpdate:modelValue":e=>r[t.dataIndex]=e},{"allow-clear":p(o.exports.get)(s.schema[t.dataIndex],"widget.clearable"),placeholder:p(W)(p(o.exports.get)(s.schema[t.dataIndex],"widget.placeholder"),r,t,e)||"请输入",...p(o.exports.get)(s.schema[t.dataIndex],"widget.props")},{onBlur:e=>ue(r)}),null,16,["modelValue","onUpdate:modelValue","onBlur"])])),ATextarea:x((({rowIndex:e,column:t,record:r})=>[m(ge,b({modelValue:r[t.dataIndex],"onUpdate:modelValue":e=>r[t.dataIndex]=e},{"allow-clear":p(o.exports.get)(s.schema[t.dataIndex],"widget.clearable"),placeholder:p(W)(p(o.exports.get)(s.schema[t.dataIndex],"widget.placeholder"),r,t,e)||"请输入",...p(o.exports.get)(s.schema[t.dataIndex],"widget.props")},{onBlur:e=>ue(r)}),null,16,["modelValue","onUpdate:modelValue","onBlur"])])),ASelect:x((({rowIndex:e,column:t,record:r})=>[m(fe,b({options:T.value[t.dataIndex]||[],onChange:e=>ne(t,r),modelValue:r[t.dataIndex],"onUpdate:modelValue":e=>r[t.dataIndex]=e},{"allow-clear":p(o.exports.get)(s.schema[t.dataIndex],"widget.clearable"),placeholder:p(W)(p(o.exports.get)(s.schema[t.dataIndex],"widget.placeholder"),r,t,e)||"请输入",...p(o.exports.get)(s.schema[t.dataIndex],"widget.props")},{onBlur:e=>ue(r)}),null,16,["options","onChange","modelValue","onUpdate:modelValue","onBlur"])])),ASelectCascader:x((({rowIndex:e,column:t,record:r})=>[m(fe,b({options:T.value[r[t.keepWatch]]||[],modelValue:r[t.dataIndex],"onUpdate:modelValue":e=>r[t.dataIndex]=e},{"allow-clear":p(o.exports.get)(s.schema[t.dataIndex],"widget.clearable"),placeholder:p(W)(p(o.exports.get)(s.schema[t.dataIndex],"widget.placeholder"),r,t,e)||"请输入",...p(o.exports.get)(s.schema[t.dataIndex],"widget.props")},{onBlur:e=>ue(r)}),null,16,["options","modelValue","onUpdate:modelValue","onBlur"])])),format:x((({rowIndex:e,column:t,record:s})=>[w(j(p(W)(t.format,s,t,e)),1)])),empty:x((()=>[])),operationList:x((({record:t,column:r,rowIndex:i})=>[(d(!0),u(g,null,v(p(R).operation.operationList.filter((e=>{var t,s;return!((null==(s=null==(t=p(R))?void 0:t.edit)?void 0:s.enabled)&&"edit"===e.name)})),(n=>(d(),u(g,null,[n.needConfirm?(d(),h(be,{key:0,type:"warning",content:n.confirmText||"确认执行操作吗?",onOk:s=>n.clickEmit?e.$emit(n.clickEmit,{record:t}):H(n,t)},{default:x((()=>[(d(),h(f(n.type||"AButton"),k(S({"allow-clear":p(o.exports.get)(s.schema[r.dataIndex],"widget.clearable"),type:"text",size:"small",status:n.status,style:{paddingLeft:"4px",paddingRight:"4px"},placeholder:p(W)(p(o.exports.get)(s.schema[r.dataIndex],"widget.placeholder"),t,r,i)||"请输入",...p(o.exports.get)(s.schema[r.dataIndex],"widget.props")})),{default:x((()=>[w(j(n.title),1)])),_:2},1040))])),_:2},1032,["content","onOk"])):(d(),h(f(n.type||"AButton"),b({key:1},{"allow-clear":p(o.exports.get)(s.schema[r.dataIndex],"widget.clearable"),type:"text",size:"small",status:n.status,style:{paddingLeft:"4px",paddingRight:"4px"},placeholder:p(W)(p(o.exports.get)(s.schema[r.dataIndex],"widget.placeholder"),t,r,i)||"请输入",...p(o.exports.get)(s.schema[r.dataIndex],"widget.props")},{onClick:s=>n.clickEmit?e.$emit(n.clickEmit,{record:t}):H(n,t)}),{default:x((()=>[w(j(n.title),1)])),_:2},1040,["onClick"]))],64)))),256))])),_:1},8,["size","hoverable","stripe","bordered","column-resizable","expandable","pagination","show-header","scroll","row-selection","virtual-list-props","selectedKeys","columns","loading","data"]),m(je,{visible:B.value,"onUpdate:visible":t[2]||(t[2]=e=>B.value=e),"ok-loading":z.value,onOk:K,title:Q[q.value]},{default:x((()=>[m(p(qe),{data:O.value,options:p(G),schema:s.schema},null,8,["data","options","schema"])])),_:1},8,["visible","ok-loading","title"])])}}},Fe={key:1},qe={__name:"ArcoCrudForm",props:{data:{type:Object,default:{}},schema:{type:Object,default:{}},options:{type:Object,default:{}},loading:{type:Boolean,default:!1}},setup(e){const t=e,s=n([]),r=n({}),i=n({});return a((()=>{s.value=[],r.value=[],Object.keys(t.schema).forEach((e=>{let n=t.schema[e],a=o.exports.get(n,"title.name")||e,l=o.exports.get(n,"title.upperFirst"),c=o.exports.get(n,"widget.options");c&&(r.value=Object.assign({},c.value,c));let d=o.exports.get(n,"widget.keepWatch");d&&(i.value[d]=e);let u=o.exports.get(n,"widget.format");s.value.push({title:l?o.exports.upperFirst(a):a,dataIndex:e,width:o.exports.get(n,"title.width"),align:o.exports.get(n,"title.align")||"left",keepWatch:d,format:u,formSchema:n,widget:o.exports.get(n,"widget")||{}})}))})),(e,n)=>{const a=c("AFormItem"),l=c("AForm");return d(),h(l,{"auto-label-width":"",modelValue:t.data,"onUpdate:modelValue":n[0]||(n[0]=e=>t.data=e),layout:p(o.exports.get)(t.options,"layout.type")},{default:x((()=>[(d(!0),u(g,null,v(s.value,(e=>(d(),h(a,{field:e.dataIndex,label:e.title},{default:x((()=>{var s;return[null!=(s=t.options.edit)&&s.enabled?(d(),h(f(e.widget.type),b({key:0,modelValue:t.data[e.dataIndex],"onUpdate:modelValue":s=>t.data[e.dataIndex]=s,onChange:s=>((e,t)=>{if("ASelect"===e.widget.type&&Object.keys(i.value).includes(e.dataIndex)){let s=i.value[e.dataIndex];s&&(t[s]="")}})(e,t.data)},{"allow-clear":p(o.exports.get)(e.formSchema,"widget.clearable"),placeholder:p(W)(p(o.exports.get)(e.formSchema,"widget.placeholder"),t.data)||"请输入",...p(o.exports.get)(e.formSchema,"widget.props"),options:e.keepWatch?r.value[t.data[e.keepWatch]]:r.value[e.dataIndex]}),null,16,["modelValue","onUpdate:modelValue","onChange"])):(d(),u("span",Fe,j(t.data[e.dataIndex]),1))]})),_:2},1032,["field","label"])))),256))])),_:1},8,["modelValue","layout"])}}},Re={__name:"page",setup(e){const t=n(!0),s=n(!1);let r=n((new V).edit(s.value).row().hover().border().stripe().size().small().layout().search(t.value).inline().cols().sm(1).md(2).xl(2).row().selection().checkboxType().checkAll().column().resizable().baseUrl("https://mock.apifox.cn/m1/1087009-0-default/api").fetchList().get("/v1/fetchList").viewOperation().fetch().get("/v1/fetch").editOperation().update().post("/v1/update").editBatchOperation().updateBatch().post("/v1/updateBatch").addOperation().save().post("/v1/save").removeOperation().delete().post("/v1/delete").needConfirm().confirmText("确定删除吗?").removeBatchOperation().deleteBatch().post("/v1/deleteBatch").customOperation("自定义").clickEmit("showItem").parse());const o=n({name:(new _).title().upperFirst().width(200).left().format("{{ '[No.' + (rowIndex+1)  + ']' + record.name }}").readonly().column().fixed().left().input().placeholder("输入姓名").clearable().searchable().parse(),salary:(new _).title("工资").width(150).center().inputNumber().placeholder("输入工资").clearable(!1).sortable().asc().desc().filterable().gt(2e4).gt([25e3,1e6]).searchable().advancedOnly().parse(),address:(new _).title("地址").width(150).center().filterable().includes(["北京","绵阳","Park Road"]).textArea().clearable().placeholder("{{ '请输入' + (record.name ? record.name + '的' : '') + '地址'}}").props({autoSize:!0}).cell().ellipsis().tooltip().width(150).searchable().advancedOnly().readonly().parse(),province:(new _).title("省份").width(150).center().select({province:["北京","四川","广东"],"北京":["海淀","朝阳","昌平"],"四川":["成都","绵阳"],"广东":["广州","深圳"]}).parse(),city:(new _).title("城市").width(150).center().select().keepWatch("province").parse()}),i=e=>{const{record:t}=e;$.info({title:"Info Title",content:JSON.stringify(t,null,2)})};return l((()=>s.value),(e=>{r.value=new V(r.value).edit(e).parse()}),{deep:!0}),l((()=>t.value),(e=>{r.value=new V(r.value).search(e).parse()}),{deep:!0}),(e,t)=>(d(),h(p(Me),{class:"mt-2",options:p(r),schema:o.value,onShowItem:i},null,8,["options","schema"]))}};"function"==typeof O&&O(Re);export{Re as default};
//# sourceMappingURL=page.96e9a9e8.js.map
