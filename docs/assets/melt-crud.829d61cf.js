
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
import{d as e,c as t,bD as s,bE as r,bF as o,O as i,A as n,o as a,w as l,s as u,t as d,e as c,h as p,j as h,l as x,g,L as m,P as v,v as f,aM as b,Y as j,J as w,k as y,aJ as k,aK as I,m as z,n as S,i as L,f as B}from"./index.eae74150.js";var O=Object.defineProperty,$=(e,t,s)=>(((e,t,s)=>{t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);const A=e=>Function(`"use strict"; ${e}`)(),C=(e,t,s,r)=>{if(e){if(!e.includes("{{"))return e;e=e.replace(/\{\{/g,"").replace(/\}\}/g,"")}return A(`\n    const rowIndex = ${r};\n    const column = ${JSON.stringify(s)};\n    const record = ${JSON.stringify(t)};\n    return (${e})\n  `)};class N{constructor(e){$(this,"json",{}),$(this,"context",""),e&&(this.json=o.exports.merge(this.json,e))}edit(e=!0){return this.context="",o.exports.set(this.json,"edit.enabled",e),o.exports.set(this.json,"edit.mode","modal"),this}inlineMode(){return this.context="",o.exports.set(this.json,"edit.mode","inline"),this}modalMode(){return this.context="",o.exports.set(this.json,"edit.mode","modal"),this}drawerMode(){return this.context="",o.exports.set(this.json,"edit.mode","drawer"),this}layout(){return this.context="layout",this}inline(e=!0){return"search"===this.context&&e&&o.exports.set(this.json,"search.layout","inline"),this}cols(e){return"search"===this.context&&e&&o.exports.set(this.json,"search.cols",e),this}xxl(e){if("search"===this.context&&e){let t=o.exports.get(this.json,"search.cols");o.exports.set(this.json,"search.cols",o.exports.merge(t,{xxl:e}))}return this}xl(e){if("search"===this.context&&e){let t=o.exports.get(this.json,"search.cols");o.exports.set(this.json,"search.cols",o.exports.merge(t,{xl:e}))}return this}lg(e){if("search"===this.context&&e){let t=o.exports.get(this.json,"search.cols");o.exports.set(this.json,"search.cols",o.exports.merge(t,{lg:e}))}return this}md(e){if("search"===this.context&&e){let t=o.exports.get(this.json,"search.cols");o.exports.set(this.json,"search.cols",o.exports.merge(t,{md:e}))}return this}sm(e){if("search"===this.context&&e){let t=o.exports.get(this.json,"search.cols");o.exports.set(this.json,"search.cols",o.exports.merge(t,{sm:e}))}return this}xs(e){if("search"===this.context&&e){let t=o.exports.get(this.json,"search.cols");o.exports.set(this.json,"search.cols",o.exports.merge(t,{lg:e}))}return this}header(e=!0){return this.context="header",o.exports.set(this.json,"header.visible",e),this}visible(e=!0){return"header"===this.context?(o.exports.set(this.json,this.context+".visible",e),this):this}body(){return this.context="body",this}search(e=!0){return this.context="search",o.exports.set(this.json,"search.enabled",e),this}virtualList(){return this.context="body.virtualList",o.exports.set(this.json,"row.expand",!1),o.exports.set(this.json,"pagination",!1),o.exports.set(this.json,"edit",!1),this}height(e){return"body.virtualList"===this.context&&o.exports.set(this.json,"body.virtualList.height",e),this}size(e){return this.context="size",e&&o.exports.set(this.json,"size",e),this}mini(){return(this.context="size")&&o.exports.set(this.json,"size","mini"),this}small(){return(this.context="size")&&o.exports.set(this.json,"size","small"),this}medium(){return(this.context="size")&&o.exports.set(this.json,"size","medium"),this}large(){return(this.context="size")&&o.exports.set(this.json,"size","large"),this}column(){return this.context="column",this}resizable(e=!0){return o.exports.set(this.json,"column.resizable",e),o.exports.set(this.json,"row.border.cell",!0),this}scroll(){return this.context="body.scroll",this}x(e){return"body.scroll"===this.context&&o.exports.set(this.json,"body.scroll.x",e),this}y(e){return"body.scroll"===this.context&&o.exports.set(this.json,"body.scroll.y",e),this}row(){return this.context="row",this}selection(){return this.context="row.selection",this}checkboxType(){return o.exports.set(this.json,"row.selection.type","checkbox"),this}radioType(){return o.exports.set(this.json,"row.selection.type","radio"),this}checkAll(e=!0){return o.exports.set(this.json,"row.selection.showCheckedAll",e),this}currentOnly(e=!0){return o.exports.set(this.json,"row.selection.currentOnly",e),this}operation(e=!0){return this.context="operation",this}viewOperation(e=!0){if(!e)return this;this.context="operation.view";const t=o.exports.get(this.json,"operation.operationList")||[];return t.push({type:"AButton",title:"查看",name:"view",idx:0}),o.exports.set(this.json,"operation.operationList",t),this}editOperation(e=!0){if(!e)return this;this.context="operation.edit";const t=o.exports.get(this.json,"operation.operationList")||[];return t.push({type:"AButton",name:"edit",idx:1,title:"编辑"}),o.exports.set(this.json,"operation.operationList",t),this}removeOperation(e=!0){if(!e)return this;this.context="operation.remove";const t=o.exports.get(this.json,"operation.operationList")||[];return t.push({type:"AButton",title:"删除",idx:9999,name:"remove",status:"danger",needConfirm:!0}),o.exports.set(this.json,"operation.operationList",t),this}removeBatchOperation(e=!0){return e?(this.context="removeBatch",o.exports.set(this.json,"removeBatch",{}),this):this}updateBatchOperation(e=!0){return e?(this.context="updateBatch",o.exports.set(this.json,"updateBatch",{}),this):this}editBatchOperation(e=!0){return e?(this.context="editBatch",o.exports.set(this.json,"editBatch",{}),this):this}addOperation(e=!0){return e?(this.context="add",o.exports.set(this.json,"add",!0),this):this}customOperation(e,t=!0){if(!t)return this;this.context="operation."+e;const s=o.exports.get(this.json,"operation.operationList")||[];return s.push({type:"AButton",title:e,name:"custom",idx:100}),o.exports.set(this.json,"operation.operationList",s),this}clickEmit(e){const t=o.exports.get(this.json,"operation.operationList")||{};if("operation.view"===this.context){let s=t.find((e=>"view"===e.name));return s&&(s.clickEmit=e),this}if("operation.edit"===this.context){let s=t.find((e=>"edit"===e.name));return s&&(s.clickEmit=e),this}if("operation.remove"===this.context){let s=t.find((e=>"remove"===e.name));return s&&(s.clickEmit=e),this}if(this.context.startsWith("operation.")){let s=this.context.indexOf(".");if(s>-1&&s<this.context.length-1){let r=this.context.substring(s+1),o=t.find((e=>e.title===r));o&&(o.clickEmit=e)}}return"removeBatch"===this.context||"editBatch"===this.context||"saveBatch"===this.context?(o.exports.set(this.json,this.context+".clickEmit",e),this):this}needConfirm(e=!0){const t=o.exports.get(this.json,"operation.operationList")||{};if("operation.view"===this.context){let s=t.find((e=>"view"===e.name));return s&&(s.needConfirm=e),this}if("operation.edit"===this.context){let s=t.find((e=>"edit"===e.name));return s&&(s.needConfirm=e),this}if("operation.remove"===this.context){let s=t.find((e=>"remove"===e.name));return s&&(s.needConfirm=e),this}if(this.context.startsWith("operation.")){let s=this.context.indexOf(".");if(s>-1&&s<this.context.length-1){let r=this.context.substring(s+1),o=t.find((e=>e.title===r));o&&(o.needConfirm=e)}}return this}confirmText(e){const t=o.exports.get(this.json,"operation.operationList")||{};if("operation.view"===this.context){let s=t.find((e=>"view"===e.name));return s&&(s.confirmText=e),this}if("operation.edit"===this.context){let s=t.find((e=>"edit"===e.name));return s&&(s.confirmText=e,s.needConfirm=!0),this}if("operation.remove"===this.context){let s=t.find((e=>"remove"===e.name));return s&&(s.confirmText=e,s.needConfirm=!0),this}if(this.context.startsWith("operation.")){let s=this.context.indexOf(".");if(s>-1&&s<this.context.length-1){let r=this.context.substring(s+1),o=t.find((e=>e.title===r));o&&(o.confirmText=e,o.needConfirm=!0)}}return this}expand(e=!0){return this.context="row.expand",this}width(e){return this.context?(o.exports.set(this.json,this.context+".width",e),this):this}title(e){return this.context?(o.exports.set(this.json,this.context+".title",e),this):this}render(e){return this.context?(o.exports.set(this.json,this.context+".render",e),this):this}hover(e=!0){return(!this.context||"row"==this.context)&&o.exports.set(this.json,"row.hover",e),this}border(e=!0){return(!this.context||"row"==this.context)&&o.exports.set(this.json,"row.border.cell",e),this}stripe(e=!0){return(!this.context||"row"==this.context)&&o.exports.set(this.json,"row.stripe",e),this}baseUrl(e){return o.exports.set(this.json,"baseUrl",e),this}fetch(){return this.context="fetch",this}fetchList(){return this.context="fetchList",this}delete(){return this.context="delete",this}deleteBatch(){return this.context="deleteBatch",this}save(){return this.context="save",this}saveBatch(){return this.context="saveBatch",this}update(){return this.context="update",this}updateBatch(){return this.context="updateBatch",this}get(e){return"fetchList"==this.context&&(o.exports.set(this.json,"fetchList.url",e),o.exports.set(this.json,"fetchList.method","GET")),"fetch"==this.context&&(o.exports.set(this.json,"fetch.url",e),o.exports.set(this.json,"fetch.method","GET")),this}post(e){return"save"==this.context&&(o.exports.set(this.json,"save.url",e),o.exports.set(this.json,"save.method","POST")),"saveBatch"==this.context&&(o.exports.set(this.json,"saveBatch.url",e),o.exports.set(this.json,"saveBatch.method","POST")),"update"==this.context&&(o.exports.set(this.json,"update.url",e),o.exports.set(this.json,"update.method","POST")),"updateBatch"==this.context&&(o.exports.set(this.json,"updateBatch.url",e),o.exports.set(this.json,"updateBatch.method","POST")),"delete"==this.context&&(o.exports.set(this.json,"delete.url",e),o.exports.set(this.json,"delete.method","POST")),"deleteBatch"==this.context&&(o.exports.set(this.json,"deleteBatch.url",e),o.exports.set(this.json,"deleteBatch.method","POST")),this}validate(e=!0){return this.context="validate",o.exports.set(this.json,"validate.enabled",e),this}parse(e){return e&&(this.json=o.exports.merge(this.json,e)),this.json}}class W{constructor(e){$(this,"json",{}),$(this,"context",""),e&&(this.json=o.exports.merge(this.json,e))}column(){return this.context="column",this}fixed(){return this.context="column.fixed",this}title(e){return e&&o.exports.set(this.json,"title.name",e),this}widget(e){return this.context="widget",e&&o.exports.set(this.json,"widget.type",e),this}input(){return this.context="widget",o.exports.set(this.json,"widget.type","AInput"),this}format(e){return o.exports.set(this.json,"widget.format",e),this}placeholder(e){return"widget"===this.context&&o.exports.set(this.json,"widget.placeholder",e),"searchable"===this.context&&o.exports.set(this.json,"searchable.placeholder",e),this}clearable(e=!0){return this.context="widget",o.exports.set(this.json,"widget.clearable",e),this}select(e){return this.context="widget",o.exports.set(this.json,"widget.type","ASelect"),o.exports.set(this.json,"widget.options",e),this}props(e){return(this.context="widget")&&o.exports.set(this.json,"widget.props",e),this}inputNumber(){return this.context="widget",o.exports.set(this.json,"widget.type","AInputNumber"),this}textArea(){return this.context="widget",o.exports.set(this.json,"widget.type","ATextarea"),this}upperFirst(){return o.exports.set(this.json,"title.upperFirst",!0),this}width(e){return o.exports.set(this.json,"title.width",e),this}left(){return"column.fixed"===this.context?(o.exports.set(this.json,"column.fixed","left"),this):(o.exports.set(this.json,"title.align","left"),this)}right(){return"column.fixed"===this.context?(o.exports.set(this.json,"column.fixed","right"),this):(o.exports.set(this.json,"title.align","right"),this)}center(){return o.exports.set(this.json,"title.align","center"),this}editable(e=!0){return o.exports.set(this.json,"editable",e),this}readonly(){return o.exports.set(this.json,"editable",!1),this}keepWatch(e){return o.exports.set(this.json,"widget.keepWatch",e),this}sortable(){return this.context="sortable",this}asc(){if("sortable"===this.context){let e=o.exports.get(this.json,"sortable.sortDirections")||[];e.push("ascend"),o.exports.set(this.json,"sortable.sortDirections",e)}return this}desc(){if("sortable"===this.context){let e=o.exports.get(this.json,"sortable.sortDirections")||[];e.push("descend"),o.exports.set(this.json,"sortable.sortDirections",e)}return this}filterable(){return this.context="filterable",this}filter(e){return"filterable"===this.context&&(o.exports.set(this.json,"filterable.render",e),o.exports.set(this.json,"title.align","center")),this}eq(e){if("filterable"===this.context){let t=o.exports.get(this.json,"filterable.filters")||[];o.exports.isArray(e)?e.forEach((e=>{t.push({text:"= "+e,value:e})})):t.push({text:"= "+e,value:e}),o.exports.set(this.json,"filterable.filters",t),o.exports.set(this.json,"filterable.type","eq"),o.exports.set(this.json,"title.align","center")}return this}gt(e){if("filterable"===this.context){let t=o.exports.get(this.json,"filterable.filters")||[];o.exports.isArray(e)?e.forEach((e=>{t.push({text:"> "+e,value:e+""})})):t.push({text:"> "+e,value:e+""}),o.exports.set(this.json,"filterable.filters",t),o.exports.set(this.json,"filterable.type","gt"),o.exports.set(this.json,"title.align","center")}return this}lt(e){if("filterable"===this.context){let t=o.exports.get(this.json,"filterable.filters")||[];o.exports.isArray(e)?e.forEach((e=>{t.push({text:"< "+e,value:e+""})})):t.push({text:"< "+e,value:e+""}),o.exports.set(this.json,"filterable.filters",t),o.exports.set(this.json,"filterable.type","lt"),o.exports.set(this.json,"title.align","center")}return this}startsWith(e){if("filterable"===this.context){let t=o.exports.get(this.json,"filterable.filters")||[];o.exports.isArray(e)?e.forEach((e=>{t.push({text:""+e,value:e})})):t.push({text:""+e,value:e}),o.exports.set(this.json,"filterable.filters",t),o.exports.set(this.json,"filterable.type","startsWith"),o.exports.set(this.json,"title.align","center")}return this}contains(e){if("filterable"===this.context){let t=o.exports.get(this.json,"filterable.filters")||[];o.exports.isArray(e)?e.forEach((e=>{t.push({text:""+e,value:e})})):t.push({text:""+e,value:e}),o.exports.set(this.json,"filterable.filters",t),o.exports.set(this.json,"filterable.type","contains"),o.exports.set(this.json,"title.align","center")}return this}searchable(e=!0){return this.context="searchable",o.exports.set(this.json,"searchable.enabled",e),this}advancedOnly(e=!0){return"searchable"===this.context&&o.exports.set(this.json,"searchable.advancedOnly",e),this}cell(){return this.context="cell",this}ellipsis(e=!0){return o.exports.set(this.json,"cell.ellipsis",e),this}tooltip(e=!0){return o.exports.set(this.json,"cell.tooltip",e),this}validatable(e=!0){return this.context="validatable",o.exports.set(this.json,"validatable.enabled",e),this}blur(){if("validatable"===this.context){let e=o.exports.get(this.json,"validatable.trigger")||[];e.push("blur"),o.exports.set(this.json,"validatable.trigger",e)}return this}change(){if("validatable"===this.context){let e=o.exports.get(this.json,"validatable.trigger")||[];e.push("change"),o.exports.set(this.json,"validatable.trigger",e)}return this}required(e){if("validatable"===this.context){let t=o.exports.get(this.json,"validatable.rules")||[];t.push({required:!0,message:e||"必填"}),o.exports.set(this.json,"validatable.rules",t)}return this}maxLength(e,t){if("validatable"===this.context){let s=o.exports.get(this.json,"validatable.rules")||[];s.push({maxLength:e,message:t||"最大长度"+e}),o.exports.set(this.json,"validatable.rules",s)}return this}minLength(e,t){if("validatable"===this.context){let s=o.exports.get(this.json,"validatable.rules")||[];s.push({maxLength:e,message:t||"最小长度"+e}),o.exports.set(this.json,"validatable.rules",s)}return this}max(e,t){if("validatable"===this.context){let s=o.exports.get(this.json,"validatable.rules")||[];s.push({type:"number",max:e,message:t||"最大值"+e}),o.exports.set(this.json,"validatable.rules",s)}return this}min(e,t){if("validatable"===this.context){let s=o.exports.get(this.json,"validatable.rules")||[];s.push({type:"number",min:e,message:t||"最小值"+e}),o.exports.set(this.json,"validatable.rules",s)}return this}equal(e,t){if("validatable"===this.context){let s=o.exports.get(this.json,"validatable.rules")||[];s.push({equal:e,message:t||"应等于"+e}),o.exports.set(this.json,"validatable.rules",s)}return this}includes(e,t){if("validatable"===this.context){let s=o.exports.get(this.json,"validatable.rules")||[];s.push({includes:[],message:t||"最小值"+e}),o.exports.set(this.json,"validatable.rules",s)}return this}parse(e){return e&&(this.json=o.exports.merge(this.json,e)),this.json}}const _=Symbol("ArcoConfigProvider"),V=e=>{var t,s,r;const o=z(),n=i(_,void 0),a=null!=(r=null!=(s=null==n?void 0:n.prefixCls)?s:null==(t=null==o?void 0:o.appContext.config.globalProperties.$arco)?void 0:t.classPrefix)?r:"arco";return e?`${a}-${e}`:a},U=Object.prototype.toString;function E(e){return"[object Number]"===U.call(e)&&e==e}var P=(e,t)=>{for(const[s,r]of t)e[s]=r;return e};const T=e({name:"IconArrowDown",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=V("icon");return{cls:t((()=>[s,`${s}-arrow-down`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=E(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),M=["stroke-width","stroke-linecap","stroke-linejoin"],q=[B("path",{d:"m11.27 27.728 12.727 12.728 12.728-12.728M24 5v34.295"},null,-1)];var F=P(T,[["render",function(e,t,s,r,o,i){return d(),c("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:S(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},q,14,M)}]]);const R=Object.assign(F,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+F.name,F)}}),G=e({name:"IconArrowLeft",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=V("icon");return{cls:t((()=>[s,`${s}-arrow-left`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=E(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),D=["stroke-width","stroke-linecap","stroke-linejoin"],J=[B("path",{d:"M20.272 11.27 7.544 23.998l12.728 12.728M43 24H8.705"},null,-1)];var H=P(G,[["render",function(e,t,s,r,o,i){return d(),c("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:S(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},J,14,D)}]]);const K=Object.assign(H,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+H.name,H)}}),Z=e({name:"IconCloseCircle",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=V("icon");return{cls:t((()=>[s,`${s}-close-circle`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=E(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),Y=["stroke-width","stroke-linecap","stroke-linejoin"],Q=[B("path",{d:"m17.643 17.643 6.364 6.364m0 0 6.364 6.364m-6.364-6.364 6.364-6.364m-6.364 6.364-6.364 6.364M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1)];var X=P(Z,[["render",function(e,t,s,r,o,i){return d(),c("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:S(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Q,14,Y)}]]);const ee=Object.assign(X,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+X.name,X)}}),te=e({name:"IconPlus",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=V("icon");return{cls:t((()=>[s,`${s}-plus`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=E(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),se=["stroke-width","stroke-linecap","stroke-linejoin"],re=[B("path",{d:"M5 24h38M24 5v38"},null,-1)];var oe=P(te,[["render",function(e,t,s,r,o,i){return d(),c("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:S(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},re,14,se)}]]);const ie=Object.assign(oe,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+oe.name,oe)}}),ne=e({name:"IconDownload",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=V("icon");return{cls:t((()=>[s,`${s}-download`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=E(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),ae=["stroke-width","stroke-linecap","stroke-linejoin"],le=[B("path",{d:"m33.072 22.071-9.07 9.071-9.072-9.07M24 5v26m16 4v6H8v-6"},null,-1)];var ue=P(ne,[["render",function(e,t,s,r,o,i){return d(),c("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:S(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},le,14,ae)}]]);const de=Object.assign(ue,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+ue.name,ue)}}),ce=e({name:"IconSearch",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=V("icon");return{cls:t((()=>[s,`${s}-search`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=E(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),pe=["stroke-width","stroke-linecap","stroke-linejoin"],he=[B("path",{d:"M33.072 33.071c6.248-6.248 6.248-16.379 0-22.627-6.249-6.249-16.38-6.249-22.628 0-6.248 6.248-6.248 16.379 0 22.627 6.248 6.248 16.38 6.248 22.628 0Zm0 0 8.485 8.485"},null,-1)];var xe=P(ce,[["render",function(e,t,s,r,o,i){return d(),c("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:S(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},he,14,pe)}]]);const ge=Object.assign(xe,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+xe.name,xe)}}),me=e({name:"IconSync",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=V("icon");return{cls:t((()=>[s,`${s}-sync`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=E(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),ve=["stroke-width","stroke-linecap","stroke-linejoin"],fe=[B("path",{d:"M11.98 11.703c-6.64 6.64-6.64 17.403 0 24.042a16.922 16.922 0 0 0 8.942 4.7M34.603 37.156l1.414-1.415c6.64-6.639 6.64-17.402 0-24.041A16.922 16.922 0 0 0 27.075 7M14.81 11.982l-1.414-1.414-1.414-1.414h2.829v2.828ZM33.192 36.02l1.414 1.414 1.414 1.415h-2.828V36.02Z"},null,-1)];var be=P(me,[["render",function(e,t,s,r,o,i){return d(),c("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:S(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},fe,14,ve)}]]);const je=Object.assign(be,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+be.name,be)}}),we=e({name:"IconDelete",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=V("icon");return{cls:t((()=>[s,`${s}-delete`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=E(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),ye=["stroke-width","stroke-linecap","stroke-linejoin"],ke=[B("path",{d:"M5 11h5.5m0 0v29a1 1 0 0 0 1 1h25a1 1 0 0 0 1-1V11m-27 0H16m21.5 0H43m-5.5 0H32m-16 0V7h16v4m-16 0h16M20 18v15m8-15v15"},null,-1)];var Ie=P(we,[["render",function(e,t,s,r,o,i){return d(),c("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:S(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},ke,14,ye)}]]);const ze=Object.assign(Ie,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+Ie.name,Ie)}}),Se=e({name:"IconEdit",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const s=V("icon");return{cls:t((()=>[s,`${s}-edit`,{[`${s}-spin`]:e.spin}])),innerStyle:t((()=>{const t={};return e.size&&(t.fontSize=E(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t}))}}}),Le=["stroke-width","stroke-linecap","stroke-linejoin"],Be=[B("path",{d:"m30.48 19.038 5.733-5.734a1 1 0 0 0 0-1.414l-5.586-5.586a1 1 0 0 0-1.414 0l-5.734 5.734m7 7L15.763 33.754a1 1 0 0 1-.59.286l-6.048.708a1 1 0 0 1-1.113-1.069l.477-6.31a1 1 0 0 1 .29-.631l14.7-14.7m7 7-7-7M6 42h36"},null,-1)];var Oe=P(Se,[["render",function(e,t,s,r,o,i){return d(),c("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:S(e.cls),style:L(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Be,14,Le)}]]);const $e=Object.assign(Oe,{install:(e,t)=>{var s;const r=null!=(s=null==t?void 0:t.iconPrefix)?s:"";e.component(r+Oe.name,Oe)}}),Ae=s.create({});Ae.interceptors.response.use((function(e){return e}),(function(e){return r.error(`网络故障(${e.response.status}), 请重试`),Promise.reject(e)}));const Ce={class:"arco-crud-table"},Ne=j(" 查询 "),We=j(" 重置 "),_e=j(" 新增 "),Ve=j(" 批量编辑 "),Ue=j(" 保存编辑 "),Ee=j(" 批量删除 "),Pe=j(" 下载 "),Te={__name:"ArcoCrudTable",props:{schema:{type:Object,default:{}},options:{type:Object,default:{}}},setup(e){const s=e,i=n([]),z=n(!1),S=n(!1),L=n(!1),B=n({current:1,pageSize:10,showTotal:!0,defaultPageSize:10,showPageSize:!0,pageSizeOptions:[10,20]}),O=n(),$=n(!1),W=n({}),_=n([]),V=n([]),U=n({}),E=n(!1),P=n([]),T=n({}),M=n({});let q=n(void 0),F=n();const G=n(!1),D=n(""),J=t((()=>new N(s.options).edit(L.value).parse())),H=t((()=>new N(J.value).edit("edit"===D.value||"add"===D.value).parse())),Z=e=>{const t=o.exports.get(e,"widget.type"),s=o.exports.get(e,"widget.keepWatch");return t?s?t+"Cascader":t:"AInput"},Y=(e,t)=>{var s;L.value?r.warning("当前处于批量编辑状态, 请先保存！"):(null!=(s=J.value.edit)&&s.enabled?W.value=t:W.value=Object.assign({},t),"view"===e.name&&(D.value="view",$.value=!0),"edit"===e.name&&(D.value="edit",$.value=!0),"remove"===e.name&&ae(t))},Q=async()=>{if(L.value)return void r.warning("当前处于批量编辑状态, 请先保存！");let e=o.exports.get(J.value,"baseUrl");if("edit"===D.value){let t=o.exports.get(J.value,"update.url"),s=o.exports.get(J.value,"update.method");await Ae(t,{method:s,baseURL:e,["GET"===s?"params":"data"]:{...W.value}}),re()}if("add"===D.value){let t=o.exports.get(J.value,"save.url"),s=o.exports.get(J.value,"save.method");await Ae(t,{method:s,baseURL:e,["GET"===s?"params":"data"]:{...W.value}}),re()}},X=async e=>!(await O.value.formRef.validate()),te=()=>{L.value?r.warning("当前处于批量编辑状态, 请先保存！"):(W.value={},$.value=!0,D.value="add")},se={edit:"编辑",add:"新增",view:"查看"},re=async()=>{let e=o.exports.get(J.value,"baseUrl"),t=o.exports.get(J.value,"fetchList"),s=o.exports.get(J.value,"fetchList.url");if(!e||!t)return;z.value=!0;let r=o.exports.get(J.value,"fetchList.method");const{data:n}=await Ae(s,{method:r,baseURL:e,["GET"===r?"params":"data"]:{page:B.value.current,pageSize:B.value.pageSize,...U.value}});i.value=n.list,B.value.total=n.total,z.value=!1},oe=()=>{D.value="editBatch",L.value=!0,ve()},ne=async()=>{L.value=!1;let e=o.exports.get(J.value,"baseUrl"),t=o.exports.get(J.value,"updateBatch.method"),s=o.exports.get(J.value,"updateBatch.url");z.value=!0,await Ae(s,{method:t,baseURL:e,["GET"===t?"params":"data"]:{list:i.value.filter((e=>V.value.includes(e.key)))}}),V.value=[],D.value="",ve(),re()},ae=async e=>{if(L.value)return void r.warning("当前处于批量编辑状态, 请先保存！");let t=o.exports.get(J.value,"baseUrl"),s=o.exports.get(J.value,"delete"),i=o.exports.get(J.value,"delete.url");if(!t||!s||!i)return;let n=o.exports.get(J.value,"delete.method");await Ae(i,{method:n,baseURL:t,["GET"===n?"params":"data"]:{id:e.id}}),re()},le=e=>{L.value?r.warning("当前处于批量编辑状态, 请先保存！"):B.value=Object.assign({},B.value,{current:1,pageSize:e})},ue=e=>{L.value?r.warning("当前处于批量编辑状态, 请先保存！"):B.value=Object.assign({},B.value,{current:e})},ce=(e,t)=>{let s=M.value[e.dataIndex];s&&(t[s]="")},pe=()=>{L.value?r.warning("当前处于批量编辑状态, 请先保存！"):(B.value.current=1,re())},he=()=>{L.value?r.warning("当前处于批量编辑状态, 请先保存！"):(B.value.current=1,U.value={},re())},xe=async()=>{if(L.value)return void r.warning("当前处于批量编辑状态, 请先保存！");let e=o.exports.get(J.value,"baseUrl"),t=o.exports.get(J.value,"deleteBatch"),s=o.exports.get(J.value,"deleteBatch.url");if(!e||!t||!s)return;let i=o.exports.get(J.value,"deleteBatch.method");await Ae(s,{method:i,baseURL:e,["GET"===i?"params":"data"]:{ids:_.value}}),B.value.current=1,re(),_.value=[]},me=e=>{V.value.push(e.key)},ve=()=>{P.value=[],G.value=!!o.exports.get(J.value,"body.virtualList"),T.value={},M.value={},q.value=void 0,F.value=o.exports.get(J.value,"row.expand"),F.value&&F.value.render&&(q.value=o.exports.merge(F.value,{expandedRowRender:e=>C(F.value.render,e,{},null)})),Object.keys(s.schema).forEach((e=>{var t;let r=s.schema[e],i=o.exports.get(r,"title.name")||e,n=o.exports.get(r,"title.upperFirst"),a=o.exports.get(r,"widget.options");a&&(T.value=Object.assign({},a.value,a));let l=o.exports.get(r,"widget.keepWatch");l&&(M.value[l]=e);let u=o.exports.get(r,"widget.format");if(o.exports.get(r,"filterable")){let t=o.exports.get(r,"filterable.render"),s=o.exports.get(r,"filterable.type")||"eq";"eq"==s&&(t=`{{ record.${e} === value[0] }}`),"lt"==s&&(t=`{{ record.${e} < value[0] }}`),"gt"==s&&(t=`{{ record.${e} > value[0] }}`),"startsWith"==s&&(t=`{{ record.${e}.startsWith(value[0]) }}`),"contains"==s&&(t=`{{ record.${e}.includes(value[0]) }}`),o.exports.set(r,"filterable.filter",((e,s)=>((e,t,s)=>{if(e){if(!e.includes("{{"))return e;e=e.replace(/\{\{/g,"").replace(/\}\}/g,"")}return A(`\n    const value = ${JSON.stringify(t)};\n    const record = ${JSON.stringify(s)};\n    return (${e})\n  `)})(t,e,s)))}P.value.push({title:n?o.exports.upperFirst(i):i,dataIndex:e,key:e,width:o.exports.get(r,"title.width"),align:o.exports.get(r,"title.align")||"left",keepWatch:l,format:u,sortable:o.exports.get(r,"sortable"),filterable:o.exports.get(r,"filterable"),fixed:o.exports.get(r,"column.fixed"),ellipsis:o.exports.get(r,"cell.ellipsis"),tooltip:o.exports.get(r,"cell.tooltip"),widget:o.exports.get(r,"widget")||{},slotName:!o.exports.get(J.value,"body.virtualList")&&(null==(t=null==J?void 0:J.value.edit)?void 0:t.enabled)&&0!=o.exports.get(r,"editable")?Z(r):u?"format":null})}));let e=o.exports.get(J.value,"operation.operationList");!L.value&&e&&e.length>0&&(e.sort(((e,t)=>e.idx?t.idx?e.idx-t.idx:1:-1)),o.exports.set(J.value,"operation.operationList",e),P.value.push({title:"操作栏",fixed:"right",align:"center",width:50*e.length+40,slotName:"operationList"}));let t=o.exports.get(J.value,"column.resizable");t&&P.value.push({title:"",fixed:!t&&"right",align:"center",slotName:"empty"})};return a((async()=>{ve()})),l((()=>D.value),(e=>{"editBatch"===e&&(J.value.edit.enabled=!0)})),l([B],(async()=>{re()}),{immediate:!0}),(e,t)=>{var r,n,a,l;const A=u("AFormItem"),N=u("AGridItem"),V=u("AGrid"),M=u("AForm"),F=u("ACol"),G=u("AButton"),Z=u("ASpace"),re=u("ARow"),ae=u("ADivider"),ve=u("AInput"),fe=u("AInputNumber"),be=u("ATextarea"),we=u("ASelect"),ye=u("APopconfirm"),ke=u("ATable"),Ie=u("AModal");return d(),c("div",Ce,[p(o.exports.get)(p(J),"search.enabled")?(d(),h(re,{key:0,style:{"margin-bottom":"10px"},gutter:20},{default:x((()=>[g(F,{flex:"auto"},{default:x((()=>[g(M,{model:U.value,layout:p(o.exports.get)(p(J),"search.layout"),"label-align":"left"},{default:x((()=>[g(V,{cols:p(o.exports.get)(p(J),"search.cols"),colGap:12,style:{width:"100%"}},{default:x((()=>[(d(!0),c(m,null,v(P.value.filter((e=>p(o.exports.get)(s.schema[e.dataIndex],"searchable.enabled")&&(E.value||!E.value&&!p(o.exports.get)(s.schema[e.dataIndex],"searchable.advancedOnly")))),(e=>(d(),h(N,{key:E.value+"_"},{default:x((()=>[g(A,{"label-col-flex":"60px",field:e.dataIndex,label:e.title},{default:x((()=>{var t;return[(d(),h(f((null==(t=e.widget)?void 0:t.type)||"AInput"),b({modelValue:U.value[e.dataIndex],"onUpdate:modelValue":t=>U.value[e.dataIndex]=t,onChange:t=>ce(e,i.value)},{...p(o.exports.get)(s.schema[e.dataIndex],"widget.props"),options:e.keepWatch?T.value[i.value[e.keepWatch]]:T.value[e.dataIndex],"allow-clear":p(o.exports.get)(s.schema[e.dataIndex],"widget.clearable"),placeholder:p(C)(p(o.exports.get)(s.schema[e.dataIndex],"searchable.placeholder"),{},e,null)||"请输入"+e.title}),null,16,["modelValue","onUpdate:modelValue","onChange"]))]})),_:2},1032,["field","label"])])),_:2},1024)))),128))])),_:1},8,["cols"])])),_:1},8,["model","layout"])])),_:1}),g(F,{flex:E.value?"50px":"290px"},{default:x((()=>[g(Z,{direction:E.value?"vertical":"horizontal"},{default:x((()=>[g(G,{type:"primary",onClick:pe},{icon:x((()=>[g(p(ge))])),default:x((()=>[Ne])),_:1}),g(G,{status:"warning",onClick:he},{icon:x((()=>[g(p(ee))])),default:x((()=>[We])),_:1}),g(G,{status:"success",onClick:t[0]||(t[0]=e=>E.value=!E.value)},{icon:x((()=>[E.value?(d(),h(p(K),{key:0})):(d(),h(p(R),{key:1}))])),default:x((()=>[j(" "+w(E.value?"收起":"展开"),1)])),_:1})])),_:1},8,["direction"])])),_:1},8,["flex"])])),_:1})):y("",!0),p(o.exports.get)(p(J),"search.enabled")?(d(),h(ae,{key:1})):y("",!0),g(re,{gutter:12,style:{"margin-bottom":"20px"}},{default:x((()=>[g(F,{span:12,align:"left"},{default:x((()=>[g(Z,null,{default:x((()=>{var e,t,s,r;return[p(o.exports.get)(p(J),"save.url")?(d(),h(G,{key:0,type:"primary",onClick:te},{icon:x((()=>[g(p(ie),{style:{cursor:"pointer"}})])),default:x((()=>[_e])),_:1})):y("",!0),null!=(t=null==(e=p(J))?void 0:e.edit)&&t.enabled||L.value||!p(o.exports.get)(p(J),"updateBatch.url")?y("",!0):(d(),h(G,{key:1,loading:z.value,disabled:z.value,onClick:oe},{icon:x((()=>[g(p($e),{style:{cursor:"pointer"}})])),default:x((()=>[Ve])),_:1},8,["loading","disabled"])),(null==(r=null==(s=p(J))?void 0:s.edit)?void 0:r.enabled)&&L.value&&p(o.exports.get)(p(J),"updateBatch.url")?(d(),h(G,{key:2,loading:z.value,disabled:z.value,onClick:ne,status:"success"},{icon:x((()=>[g(p(je),{style:{cursor:"pointer"}})])),default:x((()=>[Ue])),_:1},8,["loading","disabled"])):y("",!0),_.value.length>0&&p(o.exports.get)(p(J),"deleteBatch.url")?(d(),h(G,{key:3,status:"danger",onClick:xe},{icon:x((()=>[g(p(ze),{style:{cursor:"pointer"}})])),default:x((()=>[Ee])),_:1})):y("",!0)]})),_:1})])),_:1}),g(F,{span:12,align:"right"},{default:x((()=>[g(G,null,{icon:x((()=>[g(p(de),{style:{cursor:"pointer"}})])),default:x((()=>[Pe])),_:1})])),_:1})])),_:1}),g(ke,{size:p(o.exports.get)(p(J),"size"),hoverable:null==(n=null==(r=p(J))?void 0:r.row)?void 0:n.hover,stripe:null==(l=null==(a=p(J))?void 0:a.row)?void 0:l.stripe,bordered:p(o.exports.get)(p(J),"row.border"),"column-resizable":p(o.exports.get)(p(J),"column.resizable"),expandable:p(q),pagination:B.value,"show-header":p(o.exports.get)(p(J),"header.visible"),scroll:p(o.exports.get)(p(J),"body.scroll"),"row-selection":p(o.exports.get)(p(J),"row.selection"),"virtual-list-props":p(o.exports.get)(p(J),"body.virtualList"),selectedKeys:_.value,"onUpdate:selectedKeys":t[1]||(t[1]=e=>_.value=e),columns:P.value,loading:z.value,onPageChange:ue,onPageSizeChange:le,data:i.value},{AInput:x((({rowIndex:e,column:t,record:r})=>[g(ve,b({modelValue:r[t.dataIndex],"onUpdate:modelValue":e=>r[t.dataIndex]=e},{"allow-clear":p(o.exports.get)(s.schema[t.dataIndex],"widget.clearable"),placeholder:p(C)(p(o.exports.get)(s.schema[t.dataIndex],"widget.placeholder"),r,t,e)||"请输入",...p(o.exports.get)(s.schema[t.dataIndex],"widget.props")},{onBlur:e=>me(r)}),null,16,["modelValue","onUpdate:modelValue","onBlur"])])),AInputNumber:x((({rowIndex:e,column:t,record:r})=>[g(fe,b({modelValue:r[t.dataIndex],"onUpdate:modelValue":e=>r[t.dataIndex]=e},{"allow-clear":p(o.exports.get)(s.schema[t.dataIndex],"widget.clearable"),placeholder:p(C)(p(o.exports.get)(s.schema[t.dataIndex],"widget.placeholder"),r,t,e)||"请输入",...p(o.exports.get)(s.schema[t.dataIndex],"widget.props")},{onBlur:e=>me(r)}),null,16,["modelValue","onUpdate:modelValue","onBlur"])])),ATextarea:x((({rowIndex:e,column:t,record:r})=>[g(be,b({modelValue:r[t.dataIndex],"onUpdate:modelValue":e=>r[t.dataIndex]=e},{"allow-clear":p(o.exports.get)(s.schema[t.dataIndex],"widget.clearable"),placeholder:p(C)(p(o.exports.get)(s.schema[t.dataIndex],"widget.placeholder"),r,t,e)||"请输入",...p(o.exports.get)(s.schema[t.dataIndex],"widget.props")},{onBlur:e=>me(r)}),null,16,["modelValue","onUpdate:modelValue","onBlur"])])),ASelect:x((({rowIndex:e,column:t,record:r})=>[g(we,b({options:T.value[t.dataIndex]||[],onChange:e=>ce(t,r),modelValue:r[t.dataIndex],"onUpdate:modelValue":e=>r[t.dataIndex]=e},{"allow-clear":p(o.exports.get)(s.schema[t.dataIndex],"widget.clearable"),placeholder:p(C)(p(o.exports.get)(s.schema[t.dataIndex],"widget.placeholder"),r,t,e)||"请输入",...p(o.exports.get)(s.schema[t.dataIndex],"widget.props")},{onBlur:e=>me(r)}),null,16,["options","onChange","modelValue","onUpdate:modelValue","onBlur"])])),ASelectCascader:x((({rowIndex:e,column:t,record:r})=>[g(we,b({options:T.value[r[t.keepWatch]]||[],modelValue:r[t.dataIndex],"onUpdate:modelValue":e=>r[t.dataIndex]=e},{"allow-clear":p(o.exports.get)(s.schema[t.dataIndex],"widget.clearable"),placeholder:p(C)(p(o.exports.get)(s.schema[t.dataIndex],"widget.placeholder"),r,t,e)||"请输入",...p(o.exports.get)(s.schema[t.dataIndex],"widget.props")},{onBlur:e=>me(r)}),null,16,["options","modelValue","onUpdate:modelValue","onBlur"])])),format:x((({rowIndex:e,column:t,record:s})=>[j(w(p(C)(t.format,s,t,e)),1)])),empty:x((()=>[])),operationList:x((({record:t,column:r,rowIndex:i})=>[(d(!0),c(m,null,v(p(J).operation.operationList,(n=>(d(),c(m,null,[n.needConfirm?(d(),h(ye,{key:0,type:"warning",content:n.confirmText||"确认执行操作吗?",onOk:s=>n.clickEmit&&1!=L.value?e.$emit(n.clickEmit,{record:t}):Y(n,t)},{default:x((()=>[(d(),h(f(n.type||"AButton"),k(I({"allow-clear":p(o.exports.get)(s.schema[r.dataIndex],"widget.clearable"),type:"text",size:"small",status:n.status,style:{paddingLeft:"4px",paddingRight:"4px"},placeholder:p(C)(p(o.exports.get)(s.schema[r.dataIndex],"widget.placeholder"),t,r,i)||"请输入",...p(o.exports.get)(s.schema[r.dataIndex],"widget.props")})),{default:x((()=>[j(w(n.title),1)])),_:2},1040))])),_:2},1032,["content","onOk"])):(d(),h(f(n.type||"AButton"),b({key:1},{"allow-clear":p(o.exports.get)(s.schema[r.dataIndex],"widget.clearable"),type:"text",size:"small",status:n.status,style:{paddingLeft:"4px",paddingRight:"4px"},placeholder:p(C)(p(o.exports.get)(s.schema[r.dataIndex],"widget.placeholder"),t,r,i)||"请输入",...p(o.exports.get)(s.schema[r.dataIndex],"widget.props")},{onClick:s=>n.clickEmit&&!L.value?e.$emit(n.clickEmit,{record:t}):Y(n,t)}),{default:x((()=>[j(w(n.title),1)])),_:2},1040,["onClick"]))],64)))),256))])),_:1},8,["size","hoverable","stripe","bordered","column-resizable","expandable","pagination","show-header","scroll","row-selection","virtual-list-props","selectedKeys","columns","loading","data"]),g(Ie,{visible:$.value,"onUpdate:visible":t[2]||(t[2]=e=>$.value=e),unmountOnClose:"","ok-loading":S.value,"on-before-ok":X,onOk:Q,title:se[D.value]},{default:x((()=>[g(p(qe),{ref_key:"modalForm",ref:O,data:W.value,options:p(H),schema:s.schema},null,8,["data","options","schema"])])),_:1},8,["visible","ok-loading","title"])])}}},Me={key:1},qe={__name:"ArcoCrudForm",props:{data:{type:Object,default:{}},schema:{type:Object,default:{}},options:{type:Object,default:{}}},setup(e,{expose:t}){const s=e,r=n(s.data),i=n(),l=n([]),g=n({}),j=n({});return a((()=>{l.value=[],g.value=[],Object.keys(s.schema).forEach((e=>{let t=s.schema[e],r=o.exports.get(t,"title.name")||e,i=o.exports.get(t,"title.upperFirst"),n=o.exports.get(t,"widget.options");n&&(g.value=Object.assign({},n.value,n));let a=o.exports.get(t,"widget.keepWatch");a&&(j.value[a]=e);let u=o.exports.get(t,"widget.format");l.value.push({title:i?o.exports.upperFirst(r):r,dataIndex:e,width:o.exports.get(t,"title.width"),align:o.exports.get(t,"title.align")||"left",keepWatch:a,format:u,widget:o.exports.get(t,"widget")||{}})}))})),t({formRef:i}),(e,t)=>{const n=u("AFormItem"),a=u("AForm");return d(),h(a,{ref_key:"formRef",ref:i,"auto-label-width":"",model:r.value,layout:p(o.exports.get)(s.options,"layout.type")},{default:x((()=>[(d(!0),c(m,null,v(l.value,(e=>(d(),h(n,{field:e.dataIndex,label:e.title,rules:p(o.exports.get)(s.schema[e.dataIndex],"validatable.enabled")?p(o.exports.get)(s.schema[e.dataIndex],"validatable.rules"):[],"validate-trigger":p(o.exports.get)(s.schema[e.dataIndex],"validatable.enabled")?p(o.exports.get)(s.schema[e.dataIndex],"validatable.trigger"):[]},{default:x((()=>{var t;return[null!=(t=s.options.edit)&&t.enabled?(d(),h(f(e.widget.type),b({key:0,modelValue:r.value[e.dataIndex],"onUpdate:modelValue":t=>r.value[e.dataIndex]=t,onChange:t=>((e,t)=>{if("ASelect"===e.widget.type&&Object.keys(j.value).includes(e.dataIndex)){let s=j.value[e.dataIndex];s&&(t[s]="")}})(e,r.value)},{"allow-clear":p(o.exports.get)(s.schema[e.dataIndex],"widget.clearable"),placeholder:p(C)(p(o.exports.get)(s.schema[e.dataIndex],"widget.placeholder"),r.value)||"请输入",...p(o.exports.get)(s.schema[e.dataIndex],"widget.props"),options:e.keepWatch?g.value[r.value[e.keepWatch]]:g.value[e.dataIndex]}),null,16,["modelValue","onUpdate:modelValue","onChange"])):(d(),c("span",Me,w(r.value[e.dataIndex]),1))]})),_:2},1032,["field","label","rules","validate-trigger"])))),256))])),_:1},8,["model","layout"])}}};export{W as E,Te as P,N as U};
//# sourceMappingURL=melt-crud.829d61cf.js.map
